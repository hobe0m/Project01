<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{front/layouts/main}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>더보기 버튼 테스트</title>
    <style>
        #container {
            display: none;
        }

        .text-block {
            margin-bottom: 10px; /* 간격 조절 */
            display: none; /* 모든 text-block을 숨김으로 설정 */
        }

        .text-block.active {
            display: block; /* active 클래스가 적용된 경우에만 보이도록 설정 */
        }
    </style>
</head>
<body>

<main layout:fragment="content">
    <h1 th:text="#{더보기 버튼 테스트}"></h1>

    <h1>더보기 버튼 테스트</h1>
    <div class="text-block active" id="defaultText">
        기본적으로 보이는 텍스트입니다.<br>
        더보기 버튼을 누르면 애국가가 출력됩니다.<br>
        더보기 버튼을 눌러보세요.
    </div>
    <div id="container">
        <div class="text-block">
            동해물과 백두산이 마르고 닳도록<br>
            하느님이 보우하사 우리나라 만세<br>
            무궁화 삼천리 화려 강산<br>
            대한사람 대한으로 길이보전하세
        </div>
        <div class="text-block">
            남산위에 저 소나무 철갑을 두른 듯<br>
            바람서리 불변함은 우리 기상일세<br>
            무궁화 삼천리 화려 강산<br>
            대한사람 대한으로 길이 보전하세
        </div>
        <div class="text-block">
            가을 하늘 공활한데 높고 구름 없이<br>
            밝은 달은 우리가슴 일편단심일세<br>
            무궁화 삼천리 화려강산<br>
            대한사람 대한으로 길이 보전하세
        </div>
        <div class="text-block">
            이 기상과 이 맘으로 충성을 다하여<br>
            괴로우나 즐거우나 나라사랑하세<br>
            무궁화 삼천리 화려강산<br>
            대한사람 대한으로 길이 보전하세
        </div>
    </div>
    <button id="btn" onclick="toggleLyrics()">더보기<strong> ∨</strong></button>

    <script>
        var container = document.getElementById('container');
        var textBlocks = document.querySelectorAll('.text-block');
        var currentTextBlock = 1; // 초기값을 1로 변경

        function toggleLyrics() {
            // 현재 text-block에 active 클래스를 추가하여 보이도록 설정
            textBlocks[currentTextBlock - 1].classList.add('active');

            // 다음 text-block에 active 클래스를 추가하여 보이도록 설정
            if (currentTextBlock < textBlocks.length) {
                textBlocks[currentTextBlock].classList.add('active');
                currentTextBlock++;
            }

            // 버튼이 마지막 텍스트 블록까지 보여졌다면 숨김
            if (currentTextBlock >= textBlocks.length) {
                document.getElementById('btn').style.display = 'none';
            }

            // container를 보이도록 설정
            container.style.display = 'block';
        }
    </script>
</main>
</body>
</html>